
<div class="content">
    <h2>Create an Account</h2><hr><br>
    <h3>Please enter the username and password of your new account below.</h3>
    
    <fieldset>
        <legend>Allowed formats for usernames and passwords</legend>
        
        <p>-Username can contain letters and digits only.</p>
        <p>-Password must be at least 4 characters long.</p>
        <p>-Password must have at least one letter and one digit.</p>
    </fieldset>

    <br><br>

    <form id="createAccountForm" method="POST" action="/createAccountResponse">

        <label>Username:
            <input type="text" id="username" name="username">
        </label>
        
        <br><br>

        <label>Password:
            <input type="password" id="password" name="password">
        </label>
        
        <br><br>

        <input type="submit" value="Create account">
    </form>
</div>

<script>
    document.getElementById("createAccountForm").addEventListener("submit", event => {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
  
      const usernameProperFormat = /^[a-zA-Z0-9]+$/; // Username must only contain letters and digits
      const passwordRegex = /^[a-zA-Z0-9]{4,}$/; // Password must be at least 4 characters long
      const hasLetterInPassword = /[a-zA-Z]/;
      const hasDigitInPassword = /\d/;

      if(username.trim() === "" || password.trim() === ""){
                alert("Please fill in all the fields in the form.");
                event.preventDefault();
      }
  
      else if (!usernameProperFormat.test(username)) {
        alert("Please make sure that your username only contains letters and digits.");
        event.preventDefault();
        return;
      }
  
      else if (!passwordRegex.test(password) || !hasLetterInPassword.test(password) || !hasDigitInPassword.test(password)) {
        alert("Please make sure that your password is at least 4 characters long and contains at least one letter and one digit.");
        event.preventDefault();
        return;
      }

    });
</script>
